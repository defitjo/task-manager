(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,a){e.exports=a(501)},263:function(e,t,a){},264:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(254),c=a.n(i),s=(a(263),a(24)),l=a(25),o=a(28),u=a(26),m=a(27),d=(a(264),a(6)),h=a(47),E=a(8),f=Object(E.b)(null,function(e){return{logout:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SUCCESSFUL_LOGOUT"})})})}}})(function(e){return r.a.createElement("div",{className:"right menu"},r.a.createElement(d.c,{className:"item",to:"/new"},"Create Task"),r.a.createElement(d.c,{to:"/login",onClick:e.logout,className:"item"},"Log-out"))}),p=function(){return r.a.createElement("div",{className:"right menu"},r.a.createElement(d.c,{to:"/login",className:"item"},"Log-in"),r.a.createElement(d.c,{to:"/join",className:"item"},"Sign Up"))},b=Object(E.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(f,{profile:a}):r.a.createElement(p,null);return r.a.createElement("nav",{className:"ui blue inverted menu"},r.a.createElement(d.b,{to:"/",className:"active item"},"Tasker"),r.a.createElement("div",{className:"right menu"},n))}),v=function(e){var t=e.alerts;return r.a.createElement("div",{className:"ui card centered"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui sub center aligned large header"},"What's New"),r.a.createElement("div",{className:"ui small feed"},r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"summary"},t&&t.map(function(e){return r.a.createElement("li",{className:"ui list",key:e.id},r.a.createElement("span",{className:"alert-user"},e.user," "),r.a.createElement("span",null,e.description),r.a.createElement("div",{className:"alert-date"},e.time.toDate().toDateString()))})))))))},g=a(31),N=a(17),w=function(e){var t=e.task;return r.a.createElement("div",{className:"ui cards"},r.a.createElement("div",{className:"ui link fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},t.title),r.a.createElement("div",{className:"meta"},"New task by ",t.userFirstName," ",t.userLastName),r.a.createElement("div",{className:"description"},r.a.createElement("span",null,t.addedAt.toDate().toDateString())))))},O=function(e){var t=e.tasks;return r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"center aligned header"},r.a.createElement("h3",{className:"header-3"},"Tasks"))),r.a.createElement("div",{className:"content"},r.a.createElement("h4",{className:"ui sub center aligned header"},"Activity"),r.a.createElement("div",{className:"ui small feed"},r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"summary"},t&&t.map(function(e){return r.a.createElement(d.b,{to:"/task/"+e.id,key:e.id},r.a.createElement(w,{task:e}))})))))))},j=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.auth,n=e.alerts;return a.uid?r.a.createElement("div",{className:"ui stackable centered padded grid container"},r.a.createElement("div",{className:"three column row"},r.a.createElement("div",{className:"four wide column"},r.a.createElement(v,{alerts:n})),r.a.createElement("div",{className:"one wide column"}),r.a.createElement("div",{className:"six wide column"},r.a.createElement("div",{className:"home"},r.a.createElement("div",null,r.a.createElement(O,{tasks:t})))))):r.a.createElement(h.a,{to:"/login"})}}]),t}(n.Component),k=Object(N.d)(Object(E.b)(function(e){return{tasks:e.firestore.ordered.tasks,auth:e.firebase.auth,alerts:e.firestore.ordered.alerts}}),Object(g.firestoreConnect)([{collection:"tasks",orderBy:["addedAt","desc"]},{collection:"alerts",limit:4,orderBy:["time","desc"]}]))(j),y=a(35),C=a(48),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:""},a.handleSubmit=function(e){e.preventDefault(),a.props.newTask(a.state),a.props.history.push("/")},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"ui two column centered grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"two column wide"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"ui dividing header"},"Create Task"),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"description"},"Task Description"),r.a.createElement("textarea",{rows:"3",id:"description",onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("button",{id:"new-task-button",className:"ui positive right labeled icon button"},r.a.createElement("i",{className:"tasks icon"}),"Submit"))))))):r.a.createElement(h.a,{to:"/login"})}}]),t}(n.Component),F=Object(E.b)(function(e){return{auth:e.firebase.auth}},function(e){return{newTask:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirestore)(),i=a().firebase.profile,c=a().firebase.auth.uid;r.collection("tasks").add(Object(C.a)({},e,{userFirstName:i.firstName,userLastName:i.lastName,userId:c,addedAt:new Date})).then(function(){t({type:"TASK_CREATED"})}).catch(function(e){t({type:"TASK_NOT_CREATED"},e)})}}(t))}}})(S),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.join(a.state)},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"ui two column centered grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"two column wide"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"ui dividing header"},"Join Task Manager"),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("button",{id:"join-button",className:"ui positive right labeled icon button"},r.a.createElement("i",{className:"sign-in icon"}),"Join"),r.a.createElement("div",{className:"ui red center"},a?r.a.createElement("p",null,a):null)))))))}}]),t}(n.Component),L=Object(E.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{join:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=n.getFirestore,c=r(),s=i();c.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){return s.collection("users").doc(e.user.uid).set({firstName:a.firstName,lastName:a.lastName})}).then(function(){e({type:"JOIN_SUCCESSFULLY"})}).catch(function(t){e({type:"ERROR_JOINING",error:t})})}));var a}}})(A),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state)},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"ui two column centered grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"two column wide"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"ui dividing header"},"Login"),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("button",{id:"login-button",className:"ui positive right labeled icon button"},r.a.createElement("i",{className:"sign-in icon"}),"Login"),r.a.createElement("div",{className:"ui red center"},t?r.a.createElement("p",null,t):null)))))))}}]),t}(n.Component),T=Object(E.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{login:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"SUCCESSFUL_LOGIN"})}).catch(function(t){e({type:"ERROR_LOGGING_IN",error:t})})}));var a}}})(R),U=Object(N.d)(Object(E.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.tasks;return{task:n?n[a]:null,auth:e.firebase.auth}}),Object(g.firestoreConnect)([{collection:"tasks"}]))(function(e){var t=e.task;return e.auth.uid?t?r.a.createElement("div",{id:"task-info-container",className:"ui grid container"},r.a.createElement("div",{id:"task-info",className:"five wide column centered"},r.a.createElement("div",{className:"ui large header"},t.title),r.a.createElement("div",{className:"description"},r.a.createElement("p",{id:"task-description"},t.description)),r.a.createElement("div",{id:"task-info-user",className:"meta"},r.a.createElement("p",null,"New task by ",t.userFirstName," ",t.userLastName),r.a.createElement("p",{id:"task-info-date"},t.addedAt.toDate().toDateString())))):r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"two wide column centered"},r.a.createElement("div",{className:"header"},"Loading..."))):r.a.createElement(h.a,{to:"/login"})}),I=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:k}),r.a.createElement(h.b,{path:"/new",component:F}),r.a.createElement(h.b,{path:"/join",component:L}),r.a.createElement(h.b,{path:"/login",component:T}),r.a.createElement(h.b,{path:"/task/:id",component:U}))))}}]),t}(n.Component),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");_?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):G(t,e)})}}function G(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var x=a(257),W=a(77),J={authError:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_SUCCESSFULLY":return Object(C.a)({},e,{authError:null});case"ERROR_JOINING":return Object(C.a)({},e,{authError:t.error.message});case"SUCCESSFUL_LOGIN":return Object(C.a)({},e,{authError:null});case"ERROR_LOGGING_IN":return Object(C.a)({},e,{authError:"Login Failed"});case"SUCCESSFUL_LOGOUT":default:return e}},K={},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;switch((arguments.length>1?arguments[1]:void 0).type){case"TASK_CREATED":case"TASK_NOT_CREATED":default:return e}},q=Object(N.c)({auth:P,task:B,firestore:W.firestoreReducer,firebase:g.firebaseReducer}),Y=a(111),z=a.n(Y);a(495),a(499);z.a.initializeApp({apiKey:"AIzaSyBQJQrjhbTXqc5X5TWcUhh-iKPp5LkvNKY",authDomain:"task-manager-d42e0.firebaseapp.com",databaseURL:"https://task-manager-d42e0.firebaseio.com",projectId:"task-manager-d42e0",storageBucket:"task-manager-d42e0.appspot.com",messagingSenderId:"440530895907"}),z.a.firestore().settings({});var Q=z.a,X=Object(N.e)(q,Object(N.d)(Object(N.a)(x.a.withExtraArgument({getFirebase:g.getFirebase,getFirestore:W.getFirestore})),Object(g.reactReduxFirebase)(Q,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(W.reduxFirestore)(Q)));X.firebaseAuthIsReady.then(function(){c.a.render(r.a.createElement(E.a,{store:X},r.a.createElement(I,null)),document.getElementById("root")),D()})}},[[258,1,2]]]);
//# sourceMappingURL=main.a46f68bd.chunk.js.map